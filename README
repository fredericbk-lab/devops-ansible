# DevOps Local Automation with Ansible, Docker & GitHub Actions

## Description du projet

Ce projet est un **mini-projet DevOps complet**, r√©alis√© dans un objectif **p√©dagogique et pratique**, visant √† d√©montrer la mise en ≈ìuvre des **fondamentaux DevOps** sur une **machine physique locale**.

Il combine :

* **Infrastructure as Code (IaC)** avec **Ansible**
* **D√©ploiement applicatif** en mode **conteneuris√© (Docker)** et **physique (systemd)**
* **Int√©gration Continue / D√©ploiement Continu (CI/CD)** avec **GitHub Actions**
* **Idempotence** et bonnes pratiques DevOps

Le projet permet de comparer concr√®tement les diff√©rences entre :

* un d√©ploiement **Docker**
* un d√©ploiement **classique sur le syst√®me**

---

## Objectifs du projet

* Automatiser l‚Äôinstallation et la configuration d‚Äôun environnement local
* D√©ployer plusieurs applications web de mani√®re reproductible
* Comparer Docker vs d√©ploiement physique
* Mettre en place un pipeline CI/CD fonctionnel
* Garantir l‚Äôidempotence des playbooks Ansible

---

## Technologies utilis√©es

* **Ansible** (automation, IaC)
* **Docker** (conteneurisation)
* **Node.js** (application backend)
* **Flask / Python** (application backend)
* **Nginx** (serveur web)
* **systemd** (services Linux)
* **GitHub Actions** (CI/CD)
* **Ubuntu Linux**

---

## Structure du projet

```text
devops-local-ansible/
‚îú‚îÄ‚îÄ ansible/
‚îÇ   ‚îú‚îÄ‚îÄ inventory.ini
‚îÇ   ‚îú‚îÄ‚îÄ site.yml
‚îÇ   ‚îú‚îÄ‚îÄ group_vars/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ local.yml
‚îÇ   ‚îî‚îÄ‚îÄ roles/
‚îÇ       ‚îú‚îÄ‚îÄ common/
‚îÇ       ‚îú‚îÄ‚îÄ docker/
‚îÇ       ‚îú‚îÄ‚îÄ nginx_docker/
‚îÇ       ‚îú‚îÄ‚îÄ node_docker/
‚îÇ       ‚îú‚îÄ‚îÄ node_physical/
‚îÇ       ‚îú‚îÄ‚îÄ flask_docker/
‚îÇ       ‚îî‚îÄ‚îÄ flask_physical/
‚îú‚îÄ‚îÄ apps/
‚îÇ   ‚îú‚îÄ‚îÄ nginx/
‚îÇ   ‚îú‚îÄ‚îÄ node/
‚îÇ   ‚îî‚îÄ‚îÄ flask/
‚îî‚îÄ‚îÄ .github/
    ‚îî‚îÄ‚îÄ workflows/
        ‚îî‚îÄ‚îÄ ci-cd.yml
```

---

## Services d√©ploy√©s

| Technologie | Mode               | Port |
| ----------- | ------------------ | ---- |
| Nginx       | Docker             | 8080 |
| Node.js     | Docker             | 3000 |
| Node.js     | Physique (systemd) | 3001 |
| Flask       | Docker             | 5000 |
| Flask       | Physique (systemd) | 5001 |

---

## Lancer le projet en local

### Pr√©requis

* Ubuntu
* Python 3
* Ansible
* Docker
* Acc√®s sudo

### Commande de d√©ploiement

```bash
cd ansible
ansible-playbook -i inventory.ini site.yml --ask-become-pass
```

---

## V√©rification des services

```bash
curl http://localhost:8080   # Nginx Docker
curl http://localhost:3000   # Node Docker
curl http://localhost:3001   # Node Physique
curl http://localhost:5000   # Flask Docker
curl http://localhost:5001   # Flask Physique
```

---

## Ihdempotence (principe DevOps)

Le playbook est **idempotent** :
Une ex√©cution r√©p√©t√©e ne provoque **aucune modification inutile**.

Exemple :

```bash
ansible-playbook -i inventory.ini site.yml
```

R√©sultat attendu :

```
changed=0
failed=0
```

---

## CI/CD avec GitHub Actions

### Fonctionnement

* **CI** : ex√©cut√© sur les serveurs GitHub

  * lint YAML
  * ansible-lint
  * syntax-check
* **CD** : ex√©cut√© sur la machine locale via un **runner self-hosted**

### D√©clenchement

* √Ä chaque `git push` sur la branche `main`

### Pr√©-requis CD

* Installer un **runner GitHub Actions self-hosted** sur la machine locale
* Configurer sudo sans mot de passe (ou Ansible Vault)

---

## S√©curit√© (environnement labo)

Pour permettre l‚Äôex√©cution automatique du playbook :

```bash
sudo visudo
```

Ajouter :

```
fred ALL=(ALL) NOPASSWD:ALL
```

> √Ä utiliser uniquement dans un contexte p√©dagogique ou de test.

---

## Ce que ce projet d√©montre

* Infrastructure as Code avec Ansible
* D√©ploiement multi-environnements
* Gestion des conflits de ports
* Automatisation reproductible
* CI/CD local r√©aliste
* Bonnes pratiques DevOps

---

## üöß Limites & perspectives

### Limites

* Environnement local uniquement
* Pas de secrets chiffr√©s (Vault non utilis√©)

### √âvolutions possibles

* D√©ploiement sur VPS / Cloud
* Ansible Vault
* Monitoring (Prometheus, Grafana)
* Reverse proxy (Nginx)
* Tests automatis√©s post-d√©ploiement

---

## Auteur

**Fr√©d√©ric Betukumesu**
Projet p√©dagogique DevOps ‚Äì Automation & CI/CD
